<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>constructors/canvas-draw.js - Application Prototype - Framework</title>
    
    <meta name="description" content="Application Prototype Framework based on Module Pattern" />
    
        <meta name="keywords" content="javascript, js, application-prototype, prototype" />
        <meta name="keyword" content="javascript, js, application-prototype, prototype" />
    
    
    
    <meta property="og:title" content="Application Prototype - Framework"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content="https://labs.sgapps.io/open-source/application-prototype"/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://labs.sgapps.io/open-source/application-prototype" target="_blank" class="menu-item" id="website_link" >Project Page ( Git Lab )</a></h2><h2><a href="http://gordienco.net/" target="_blank" class="menu-item" id="website_link" >About Me</a></h2><h2><a href="https://github.com/sergiu-gordienco/application-prototype" target="_blank" class="menu-item" id="github_link" >GitHub</a></h2><h3>Modules</h3><ul><li><a href="module-ApplicationPrototype.html">ApplicationPrototype</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.html#~modulePath">modulePath</a></li></ul></li><li><a href="module-async.html">async</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-async.html#.flow">flow</a></li><li data-type='method' style='display: none;'><a href="module-async.html#.flow%25C2%25B7map">flow·map</a></li><li data-type='method' style='display: none;'><a href="module-async.html#.map">map</a></li><li data-type='method' style='display: none;'><a href="module-async.html#.waterfall">waterfall</a></li><li data-type='method' style='display: none;'><a href="module-async.html#.waterfall%25C2%25B7map">waterfall·map</a></li></ul></li><li><a href="module-extensions_prototype.html">extensions/prototype</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#._">_</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.__">__</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.fn">fn</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.object">object</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.slDOM">slDOM</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.slDOM_env">slDOM_env</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.string">string</a></li><li data-type='member' style='display: none;'><a href="module-extensions_prototype.html#.WindowExtend">WindowExtend</a></li></ul></li><li><a href="module-js-template.html">js-template</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-js-template.html#~attrParser">attrParser</a></li><li data-type='method' style='display: none;'><a href="module-js-template.html#~expressionBuilder">expressionBuilder</a></li><li data-type='method' style='display: none;'><a href="module-js-template.html#~nodeParser">nodeParser</a></li><li data-type='method' style='display: none;'><a href="module-js-template.html#~parseTextNodes">parseTextNodes</a></li></ul></li><li><a href="module-request.html">request</a></li><li><a href="module-uri-load.html">uri-load</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-uri-load.html#.link">link</a></li><li data-type='method' style='display: none;'><a href="module-uri-load.html#.script">script</a></li></ul></li></ul><h3>Classes</h3><ul><li><a href="module-ApplicationPrototype.Builder.html">Builder</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.consoleOptions">consoleOptions</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.debugEnabled">debugEnabled</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.isBrowser">isBrowser</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.isNode">isNode</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.moduleRegister">moduleRegister</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.require">require</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.html#.runModulesInFiles">runModulesInFiles</a></li></ul></li><li class="level-hide"><a href="module-ApplicationPrototype.Builder.Promise.html">Promise</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.Promise.html#.all">all</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.Promise.html#.race">race</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.Promise.html#.reject">reject</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Builder.Promise.html#.resolve">resolve</a></li></ul></li><li><a href="module-ApplicationPrototype.Instance.html">Instance</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.bind">bind</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.crudEvents">crudEvents</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.off">off</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.on">on</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.once">once</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.property">property</a></li><li data-type='method' style='display: none;'><a href="module-ApplicationPrototype.Instance.html#.property">property</a></li></ul></li><li><a href="module-async.Async.html">Async</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-async.Async.html#done">done</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#errors">errors</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#flush">flush</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#index">index</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#processing">processing</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#receive">receive</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#reserve">reserve</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#responses">responses</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#run">run</a></li><li data-type='method' style='display: none;'><a href="module-async.Async.html#wait">wait</a></li></ul></li><li><a href="module-extensions_prototype.slDOMSet.html">slDOMSet</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.add">add</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.attr">attr</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.attr">attr</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.attr">attr</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.attr">attr</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.config">config</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.config">config</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.each">each</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.env">env</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.eq">eq</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.filter">filter</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.find">find</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.get">get</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.get">get</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.map">map</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.set">set</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.set">set</a></li><li data-type='method' style='display: none;'><a href="module-extensions_prototype.slDOMSet.html#.unique">unique</a></li></ul></li><li><a href="module-request.RequestModule.html">RequestModule</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-request.RequestModule.html#.READY_STATE_DONE">READY_STATE_DONE</a></li><li data-type='member' style='display: none;'><a href="module-request.RequestModule.html#.READY_STATE_HEADERS_RECEIVED">READY_STATE_HEADERS_RECEIVED</a></li><li data-type='member' style='display: none;'><a href="module-request.RequestModule.html#.READY_STATE_LOADING">READY_STATE_LOADING</a></li><li data-type='member' style='display: none;'><a href="module-request.RequestModule.html#.READY_STATE_OPENED">READY_STATE_OPENED</a></li><li data-type='member' style='display: none;'><a href="module-request.RequestModule.html#.READY_STATE_UNSENT">READY_STATE_UNSENT</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#async">async</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#async">async</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#config">config</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#configurator">configurator</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#headers">headers</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#headers">headers</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#method">method</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#method">method</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#open">open</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#readyState">readyState</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#request">request</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#response">response</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#response">response</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#response">response</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#response">response</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#response">response</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#response">response</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#send">send</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#status">status</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#statusText">statusText</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#timeout">timeout</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#timeout">timeout</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#url">url</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#url">url</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#withCredentials">withCredentials</a></li><li data-type='method' style='display: none;'><a href="module-request.RequestModule.html#withCredentials">withCredentials</a></li></ul></li></ul><h3>Events</h3><ul><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__afterGet">__afterGet</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__afterGet::propName">__afterGet::propName</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__afterSet">__afterSet</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__afterSet::propName">__afterSet::propName</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__onGet">__onGet</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__onGet::propName">__onGet::propName</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__onSet">__onSet</a></li><li class="level-hide"><a href="module-ApplicationPrototype.Instance.html#.event:__onSet::propName">__onSet::propName</a></li></ul><h3>Global</h3><ul><li><a href="global.html#browserSessionBuilder">browserSessionBuilder</a></li><li><a href="global.html#BrowserSessionModule">BrowserSessionModule</a></li><li><a href="global.html#request/params-parser">request/params-parser</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">constructors/canvas-draw.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>module.exports = function (canvas, _config) {
	/**
 	* create an environment for canvas drawing
 	*/
	if (!canvas) {
		canvas  = document.createElement('canvas');
	}
	var context2d   = canvas.getContext('2d');
	var context	 = context2d;

	var now;

	if (window.performance &amp;&amp; typeof(window.performance.now) === "function") {
		now = function () {
			return window.performance.now();
		};
	} else if (typeof(Date.now) === "function") {
		return Date.now();
	} else {
		now = function () {
			return new Date().valueOf();
		};
	}

	var app = new ApplicationPrototype();
	var keyGenerator= ((function () {
		var i = 0;
		return function () {
			i++;
			return i.toString(36) + '_' + Math.floor(Math.random() * 1000000000).toString(36);
		};
	})());
	_config = _config || {};
	var config      = {
		fps   : _config.fps || 40,
		fpsInterval : 1000 / ( _config.fps || 40 ),
		debug : _config.debug || false,
		animationFlags : {
			startTime: null,
			now: null,
			then: null,
			elapsed: null,
			drawing: false
		}
	};

	var resource	= {
		/**
	 	* set of canvas paths
	 	* @type {Array}
	 	*/
		paths   : [],
		animationStatus : false,
		animationRequest: false
	};

	app.debug = function (status) {
		if (typeof(status) !== "undefined") {
			config.debug = !!status;
		}
		return config.debug;
	};

	app.bind("context", function () {
		return context;
	}, "");
	app.bind("paths", function () {
		return resource.paths;
	}, "");
	app.bind("createPath", function (conf) {
		/**
		* createPath - create a generic path object
		* @return {pathObject}
		*/
		var path = new ApplicationPrototype();
		var config  = {
			id	  : keyGenerator(),
			isReady : true,
			groups  : [],
			coords  : [],
			vars    : {},
			operations  : []
		};
		((function () {
			var i;
			for (i in conf) {
				config[i]   = conf[i];
			}
		})());

		if (!Array.isArray(config.operations)) config.operations = [];

		config.operations = config.operations.map(function (operation) {
			if (!operation) return null;

			if (typeof(operation) !== "object") return null;

			if (!operation.operation) return null;

			if (typeof(operation.group) !== "string") operation.group = "";

			operation.id = operation.id || keyGenerator();

			return operation;
		}).filter(function (operation) {
			return !!operation;
		});

		path.bind("app", function () {
			return app;
		}, "");
		path.bind("config", function () {
			return config;
		}, "");
		path.bind("vars", function () {
			return config.vars;
		}, "");
		path.bind("groups", function () {
			return config.groups;
		}, "");
		path.bind("operationsRemoveByGroup", function (group) {
			config.operations = config.operations.filter(function (operation) {
				return operation.group !== group;
			});
			return config.operations;
		}, "");
		path.bind("operationsRemoveById", function (key) {
			config.operations = config.operations.filter(function (operation) {
				return operation.id !== key;
			});
			return config.operations;
		}, "");
		path.bind("operationsRemoveByKey", function (key) {
			console.warn("path.operationsRemoveByKey is deprecated from 2016.10.05");
			return path.operationsRemoveById(key);
		});
		path.bind("operationById", function (id) {
			return config.operations.filter(function (operation) {
				return operation.id === id;
			})[0];
		}, "");
		path.bind("operationsByGroup", function (group) {
			return config.operations.filter(function (operation) {
				return operation.group === group;
			});
		}, "");
		path.bind("operations", function (operation, params, key, group) {
			var i;
			var index = false;
			for (i=0;i&lt;config.operations.length;i++) {
				if (config.operations[i].id === key) {
					index   = i;
				}
			}
			if (index !== false) {
				config.operations[index].operation  = operation || config.operations[index].operation;
				config.operations[index].params	 = params || config.operations[index].params;
				config.operations[index].group	  = group || config.operations[index].group;
				return path;
			} else {
				config.operations.push({
					operation   : operation,
					params	  : (params || []),
					id	 : key || keyGenerator(),
					group	   : group || ""
				});
				return path;
			}
		}, "");
		path.bind("coords", function (x,y) {
			if (typeof(x) === "number" &amp;&amp; typeof(y) === "number") {
				var status = false;
				config.coords.forEach(function (coords) {
					if (coords.length === 4) {
						if (
							x >= coords[0]
							&amp;&amp;
							x &lt;= coords[2] + 0.00000001
							&amp;&amp;
							y >= coords[1]
							&amp;&amp;
							y &lt;= coords[3] + 0.00000001
						) {
							status = true;
						}
					}
				});
				return status;
			}
			return config.coords;
		}, "");
		path.bind("group", function (name, val) {
			if (typeof(val) === "undefined") {
				return config.groups.indexOf(name) !== -1;
			} else {
				if (val) {
					if (config.groups.indexOf(name) === -1) {
						config.groups.push(name);
					}
				} else {
					if (config.groups.indexOf(name) !== -1) {
						config.groups   = config.groups.filter(function (group) {
							return group !== name;
						});
					}
				}
				return path;
			}
		}, "");
		path.isReady = function (bool) {
			path.emit("onIsReady", [bool]);

			if (typeof(bool) !== "undefined") {
				config.isReady  = !!bool;
			}
			return config.isReady;
		};
		path.render = function (cb) {
			path.emit("onRender", []);
			var context = app.context();
			context.save();
			var er;
			var debug = app.debug();
			config.operations.forEach(function (operation) {
				try {
					var params = typeof(operation.params) === "function" ? (
						operation.params(path, operation, app)
					) : operation.params;
					if (typeof(operation.operation) === "function") {
						if (debug) {
							console.log("Operation: operations[" + operation.id + "](", (
								typeof(operation.params) === "function" ? (
									"@Function"
								) : ""
							), params + ")");
						}
						operation.operation.apply(
							path,
							params || []
						);
					} else if (typeof(context[operation.operation]) === "function") {
						if (debug) {
							console.log("Operation: Context." + operation.operation + "(", (
								typeof(operation.params) === "function" ? (
									"@Function"
								) : ""
							), params, ")");
						}
						context[operation.operation].apply(
							context,
							params || []
						);
					} else {
						if (debug) {
							console.log("Operation: Context." + operation.operation + " = ", (
								typeof(operation.params) === "function" ? (
									"@Function"
								) : ""
							), params);
						}
						context[operation.operation]	= params;
					}
				} catch (er) {
					console.error(er);
				}
			});
			context.restore();
			if (cb) cb();
		};
		app.emit("path-created", [path]);
		return path;
	}, "on");
	app.bind("path", function (conf) {
		var path = app.createPath(conf);
		resource.paths.push(path);
		return path;
	}, "");
	app.bind("pathById", function (id) {
		return resource.paths.filter(function (path) {
			return path.config().id === id;
		})[0];
	}, "");
	app.bind("group", function (name) {
		return resource.paths.filter(function (path) {
			return path.groups().indexOf(name) !== -1;
		});
	}, "");
	app.bind("imageSmoothingEnabled", function (bool) {
		if (typeof(bool) !== "undefined") {
			config.smoothing	= !!bool;
			[
				app.context()
			].forEach(function (context) {
				context.imageSmoothingEnabled	   = config.smoothing;
				context.mozImageSmoothingEnabled	= config.smoothing;
				context.webkitImageSmoothingEnabled = config.smoothing;
				context.msImageSmoothingEnabled	 = config.smoothing;
			});
		}
		return config.smoothing;
	}, "on");

	// TODO
	// ctx.fillStyle = "rgb(200,0,0)";
	// // sets the color to fill in the rectangle with
	// ctx.fillRect(10, 10, 55, 50);
	// // draws the rectangle at position 10, 10 with a width of 55 and a height of 50
	// CanvasRenderingContext2D.clearRect()
	// CanvasRenderingContext2D.fillRect()
	// CanvasRenderingContext2D.strokeRect()
	// CanvasRenderingContext2D.fillText()
	// CanvasRenderingContext2D.strokeText()
	// CanvasRenderingContext2D.measureText()
	// createCircle

	if (canvas.attrdata) {
		canvas.attrdata.CanvasDraw = app;
	}

	app.bind("canvas", function () {
		return canvas;
	}, "");
	app.bind("height", function (value) {
		if (typeof(value) === "number") {
			if (parseInt(canvas.height) !== parseInt(value)) {
				canvas.height = value;
				app.render();
			}
		}
		return canvas.height;
	}, "");
	app.bind("width", function (value) {
		if (typeof(value) === "number") {
			if (parseInt(canvas.width) !== parseInt(value)) {
				canvas.width = value;
				app.render();
			}
		}
		return canvas.width;
	}, "");

	app.render = function (cb) {
		app.emit("onRender", []);
		var index = 0;
		var _tick = function () {
			var path = resource.paths[index++];

			if (!path) {
				if (cb) cb();
				return;
			}

			if (path.isReady()) {
				path.render(_tick);
			} else {
				_tick();
			}
		};

		_tick();
	};


	var animateRequest = function () {
		resource.animationRequest	= requestAnimationFrame(function () {
			animate(resource.animationStatus);
			resource.animationRequest	= null;
		});
	};
	var animateRender = function () {
		config.animationFlags.drawing = false;

		animateRequest();
	};
	var animate = function (state) {
		if (state === undefined) {
			return resource.animationStatus || false;
		}

		var time = now();

		if (typeof(state) === "boolean") {
			if (resource.animationRequest) {
				var er;
				try {
					cancelAnimationFrame(resource.animationRequest);
				} catch (er) {
					console.error(er);
				}
			}

			if (state &amp;&amp; !resource.animationStatus) {
				config.animationFlags.then = time;

				resource.animationStatus = state;

				animateRequest();
				return;
			}

			resource.animationStatus = state;
		}

		

		if (state === true) {
			resource.animationStatus = state;
			
			config.animationFlags.now = time;
			config.animationFlags.elapsed = config.animationFlags.now - config.animationFlags.then;
			
			if (config.animationFlags.elapsed > config.fpsInterval) {
				config.animationFlags.then = config.animationFlags.now - (
					config.animationFlags.elapsed % config.fpsInterval
				);
				if (!config.animationFlags.drawing) {
					config.animationFlags.drawing = true;
					app.render(animateRender);
				} else {
					animate(resource.animationStatus);
				}
			} else {
				animateRequest();
			}
		}
	};

	app.bind("animate", animate);

	app.bind("fps", function (fps) {
		if (typeof(fps) === "number") {
			config.fps = Math.max(0.01, fps);
			config.fpsInterval = 1000 / config.fps;
		}
	});

	if (_config.animate || _config.animate === undefined) {
		animate(true);
	}

	return app;
};
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
